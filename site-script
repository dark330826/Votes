<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8">
  <title>Vot Online - Alege preferatul tÄƒu!</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f0f0f0;
      text-align: center;
      padding: 40px;
    }
    h1 {
      color: #333;
    }
    .optiune {
      background: white;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      margin: 10px auto;
      padding: 15px;
      width: 250px;
      cursor: pointer;
      transition: 0.2s;
    }
    .optiune:hover {
      background: #d0f0ff;
      transform: scale(1.05);
    }
    #rezultat {
      margin-top: 20px;
      font-weight: bold;
    }
    .podium {
      display: inline-block;
      margin: 20px;
      padding: 20px;
      border-radius: 15px;
      min-width: 200px;
    }
    .loc1 {
      background: linear-gradient(135deg, #FFD700, #FFA500);
      font-size: 1.3em;
    }
    .loc2 {
      background: linear-gradient(135deg, #C0C0C0, #808080);
      font-size: 1.2em;
    }
    .loc3 {
      background: linear-gradient(135deg, #CD7F32, #8B4513);
      font-size: 1.1em;
    }
    #maiMultBtn {
      background: #4CAF50;
      color: white;
      border: none;
      padding: 15px 30px;
      font-size: 1.1em;
      border-radius: 10px;
      cursor: pointer;
      margin-top: 20px;
      transition: 0.3s;
    }
    #maiMultBtn:hover {
      background: #45a049;
      transform: scale(1.05);
    }
    #restulEchipelor {
      display: none;
      margin-top: 20px;
      background: white;
      padding: 20px;
      border-radius: 10px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }
  </style>
</head>
<body>
  <h1>VoteazÄƒ pentru cea mai bunÄƒ alegere!</h1>
  
  <div id="timer" style="font-size: 2em; color: #ff6600; margin: 20px 0;">
    Timp rÄƒmas: <span id="timp">60</span> secunde
  </div>

  <div class="optiune" onclick="vote('MuÈ™at MÄƒdÄƒlina+MuÈ™at Gelu')"> MuÈ™at MÄƒdÄƒlina+MuÈ™at Gelu</div>
  <div class="optiune" onclick="vote('Moisei Bianca+Stoiculescu RareÈ™')">Moisei Bianca+Stoiculescu RareÈ™</div>
  <div class="optiune" onclick="vote('ComÄƒnescu Maria+Toader Liviu')">ComÄƒnescu Maria+Toader Liviu</div>
  <div class="optiune" onclick="vote('Enache Maria+Feraru Leonard')">Enache Maria+Feraru Leonard</div>
  <div class="optiune" onclick="vote('Ciobotaru Maria+RoÈ™u RareÈ™')">Ciobotaru Maria+RoÈ™u RareÈ™</div>
  <div class="optiune" onclick="vote('Balcan Beatrice+TÄƒbÄƒcaru MihÄƒiÈ›Äƒ')">Balcan Beatrice+TÄƒbÄƒcaru MihÄƒiÈ›Äƒ </div>
  <div class="optiune" onclick="vote('Zaharia Gabriel+NiÈ›Äƒ Denisa')">Zaharia Gabriel+NiÈ›Äƒ Denisa</div>
  <div class="optiune" onclick="vote('Sandu RÄƒzvan+Halance Maria')">Sandu RÄƒzvan+Halance Maria</div>
  <div class="optiune" onclick="vote('Donici Luciana+HÃ¢rÈ›anu Alex')">Donici Luciana+HÃ¢rÈ›anu Alex</div>
  <div class="optiune" onclick="vote('Alexandra Pene+Plesca Alex')">Alexandra Pene+Plesca Alex</div>
  <div class="optiune" onclick="vote('Fluture Lorena+IonuÈ›')">Fluture Lorena+IonuÈ›</div>

  <p id="rezultat">Votarea este Ã®n curs...</p>

  <script>
    const voturi = {
      "MuÈ™at MÄƒdÄƒlina+MuÈ™at Gelu": 0,
      "Moisei Bianca+Stoiculescu RareÈ™": 0,
      "ComÄƒnescu Maria+Toader Liviu": 0,
      "Enache Maria+Feraru Leonard": 0,
      "Ciobotaru Maria+RoÈ™u RareÈ™": 0,
      "Balcan Beatrice+TÄƒbÄƒcaru MihÄƒiÈ›Äƒ": 0,
      "Zaharia Gabriel+NiÈ›Äƒ Denisa": 0,
      "Sandu RÄƒzvan+Halance Maria": 0,
      "Donici Luciana+HÃ¢rÈ›anu Alex": 0,
      "Alexandra Pene+Plesca Alex": 0,
      "Fluture Lorena+IonuÈ›": 0,
    };

    let timpRamas = 60; // Secundele pentru votare
    let votareActiva = true;
    
    // VerificÄƒ dacÄƒ utilizatorul a votat deja (chiar È™i dupÄƒ refresh)
    let aVotat = localStorage.getItem('aVotat') === 'true';

    // DacÄƒ a votat deja, dezactiveazÄƒ butoanele de la Ã®nceput
    if (aVotat) {
      document.getElementById('rezultat').innerHTML = 'âœ… Ai votat deja! AÈ™teptÄƒm rezultatele...';
      const optiuni = document.querySelectorAll('.optiune');
      optiuni.forEach(opt => {
        opt.style.opacity = '0.5';
        opt.style.cursor = 'not-allowed';
        opt.style.pointerEvents = 'none';
      });
    }

    // PorneÈ™te timer-ul
    const timerInterval = setInterval(() => {
      timpRamas--;
      document.getElementById('timp').textContent = timpRamas;
      
      if (timpRamas <= 0) {
        clearInterval(timerInterval);
        votareActiva = false;
        afiseazaCastigatorFinal();
      }
    }, 1000);

    function vote(pereche) {
      if (!votareActiva) {
        alert('Votarea s-a Ã®ncheiat!');
        return;
      }

      if (aVotat) {
        alert('âš ï¸ Ai votat deja! PoÈ›i vota doar o singurÄƒ datÄƒ!');
        return;
      }
      
      voturi[pereche]++;
      aVotat = true;
      
      // SalveazÄƒ Ã®n localStorage cÄƒ utilizatorul a votat
      localStorage.setItem('aVotat', 'true');
      
      document.getElementById('rezultat').innerHTML = 'âœ… Votul tÄƒu a fost Ã®nregistrat cu succes!<br>Nu mai poÈ›i vota din nou.';
      
      // DezactiveazÄƒ vizual toate butoanele dupÄƒ vot
      const optiuni = document.querySelectorAll('.optiune');
      optiuni.forEach(opt => {
        opt.style.opacity = '0.5';
        opt.style.cursor = 'not-allowed';
        opt.style.pointerEvents = 'none';
      });
    }

    function arataRestul() {
      const restul = document.getElementById('restulEchipelor');
      const buton = document.getElementById('maiMultBtn');
      if (restul.style.display === 'none' || restul.style.display === '') {
        restul.style.display = 'block';
        buton.textContent = 'ğŸ“Š Ascunde detaliile';
      } else {
        restul.style.display = 'none';
        buton.textContent = 'ğŸ“Š Vezi toate echipele';
      }
    }

    function afiseazaCastigatorFinal() {
      // SorteazÄƒ echipele dupÄƒ numÄƒrul de voturi
      const sortate = Object.entries(voturi).sort((a, b) => b[1] - a[1]);
      
      let text = '<h2 style="color: red;">ğŸ”´ VOTAREA S-A ÃNCHEIAT! ğŸ”´</h2><br>';
      text += '<h2>ğŸ† TOP 3 ECHIPE ğŸ†</h2><br>';
      
      // AfiÈ™eazÄƒ TOP 3
      if (sortate.length >= 1 && sortate[0][1] > 0) {
        text += `<div class="podium loc1">
                  ğŸ¥‡ LOCUL 1<br>
                  <strong>${sortate[0][0]}</strong><br>
                  ${sortate[0][1]} voturi
                 </div><br>`;
      }
      
      if (sortate.length >= 2 && sortate[1][1] > 0) {
        text += `<div class="podium loc2">
                  ğŸ¥ˆ LOCUL 2<br>
                  <strong>${sortate[1][0]}</strong><br>
                  ${sortate[1][1]} voturi
                 </div><br>`;
      }
      
      if (sortate.length >= 3 && sortate[2][1] > 0) {
        text += `<div class="podium loc3">
                  ğŸ¥‰ LOCUL 3<br>
                  <strong>${sortate[2][0]}</strong><br>
                  ${sortate[2][1]} voturi
                 </div><br>`;
      }
      
      if (sortate[0][1] === 0) {
        text += '<h3>Nu au fost Ã®nregistrate voturi.</h3>';
      }
      
      // Buton pentru a vedea restul echipelor
      if (sortate.length > 3) {
        text += '<br><button id="maiMultBtn">ğŸ“Š Vezi toate echipele</button>';
        text += '<div id="restulEchipelor"><h3>Toate echipele:</h3>';
        for (let i = 0; i < sortate.length; i++) {
          text += `<p style="text-align: left; padding: 5px; border-bottom: 1px solid #ddd;">
                    <strong>${i + 1}.</strong> ${sortate[i][0]} - <strong>${sortate[i][1]}</strong> voturi
                   </p>`;
        }
        text += '</div>';
      }
      
      document.getElementById('rezultat').innerHTML = text;
      
      // AdaugÄƒ event listener pentru buton DUPÄ‚ ce a fost creat Ã®n DOM
      const butonMaiMult = document.getElementById('maiMultBtn');
      if (butonMaiMult) {
        butonMaiMult.addEventListener('click', arataRestul);
      }
      
      document.getElementById('timer').innerHTML = '<span style="color: red;">â° Timpul a expirat!</span>';
      
      // DezactiveazÄƒ vizual butoanele
      const optiuni = document.querySelectorAll('.optiune');
      optiuni.forEach(opt => {
        opt.style.opacity = '0.5';
        opt.style.cursor = 'not-allowed';
      });
    }
  </script>
</body>

</html>
